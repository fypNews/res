<!DOCTYPE html>
<html lang="en">
<head>
    <meta name='referrer' content='no-referrer' />
    <meta name="robots" content="noindex">
    <meta name="googlebot" content="noindex">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>ZheTV</title>

    <script src='https://content.jwplatform.com/libraries/KB5zFt7A.js'></script>
    <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
    <script src="https://cdn.jsdelivr.net/gh/ZheHacK/ZheTV@main/res/js/devtools.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ZheHacK/ZheTV@main/res/js/jw.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>

    <script type="text/javascript">
        function getParameterByName(name) {
            name = name.replace(/[\[]/, "\[").replace(/[\]]/, "\]");
            var regex = new RegExp("[\?&]" + name + "=([^&#]*)"),
            results = regex.exec(location.search);
            return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
        }
    </script>
</head>
<body>

    <div id="container"></div>

    <script type="text/javascript">
        //<![CDATA[
            
        jwplayer.key='XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo',
        jwplayer("container").setup({
            
            
            preload: 'metadata',
            controls: true,
            displaytitle: false,
            fullscreen: true,
            primary: 'html5',
            autostart: true,
            
            
            skin: {
                name: 'ZheHacK',
            },
            
            logo: {
                file: 'https://cdn.jsdelivr.net/gh/ZheHacK/fypnews.id@main/image/ZheTV-Logo.png',
                link: 'https://zhetv.eu.org',
                position: 'control-bar'
            },
            // Code Cast
            cast: {
                appid: '9DFB77C0',
                metadata: {
                    title: 'ZheTV',
                    subtitle: 'ZheTV subtitle',
                    images: [
                        { 'url': 'https://cdn.jsdelivr.net/gh/ZheHacK/fypnews.id@main/image/ZheTV-Logo.png' }
                    ],
                    type: 'video/mp4'
                }
            },
            captions: {
                color: '#FFF',
                fontSize: 14,
                backgroundOpacity: 0,
                edgeStyle: 'raised' 
            },
            playlist: [
                {
                    title: "ZheTV",
                    description: "ZheTV",
                    image: "https://cdn.jsdelivr.net/gh/ZheHacK/fypnews.id@main/image/copyright.png",
                    
                    sources: [
                        {
                            file: 'https://nyanv-live-cdn.mncnow.id/live/eds/ANTV/sa_dash_vmx/ANTV.mpd',
                            drm: {
                                "clearkey": {"keyId": '4310edb8b9ffe79abb40bacafa778ec3', "key": 'aebb7e86d8a336d9a93d3dd8a41153cf'}
                            },
                            label: '0',
                            'type': 'application/dash+xml',
                            primary: 'html5',
                            referer: 'https://nyanv-live-cdn.mncnow.id/live/eds/ANTV/sa_dash_vmx/ANTV.mpd', // Tambahkan referer di sini
                        }
                    ],
                    tracks: [
                        {"file":"<?php echo $cc; ?>","kind":"captions","default":"true"}
                    ]
                }
            ]
        });

        jwplayer("container").setCaptions({
            "back": false,
            "backgroundOpacity": "32",
            "edgeStyle": "dropshadow",
            "fontSize": 14,
            "fontOpacity": 100,
            "fontScale": 0.05,
            "windowOpacity": 0,
            "color": "#ffff00"
        });

        jwplayer("container").on('ready', function() {
            var sources = jwplayer("container").getPlaylistItem().sources;
            for (var i = 0; i < sources.length; i++) {
                var file = sources[i].file;
                if (file.indexOf('http') === -1) {
                    var decodedFile = CryptoJS.enc.Base64.parse(file).toString(CryptoJS.enc.Utf8);
                    sources[i].file = decodedFile;
                }
            }
            jwplayer("container").load(sources);
        });
        //]]>
    </script>
</body>
</html>
